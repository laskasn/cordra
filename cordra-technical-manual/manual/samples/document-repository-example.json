{
  "results": [
    {
      "id": "test/c1254ed02a5e3b8f8598",
      "type": "Schema",
      "content": {
        "identifier": "test/c1254ed02a5e3b8f8598",
        "name": "Group",
        "schema": {
          "type": "object",
          "required": [
            "id",
            "groupName",
            "description"
          ],
          "properties": {
            "id": {
              "type": "string",
              "cordra": {
                "type": {
                  "autoGeneratedField": "handle"
                }
              }
            },
            "groupName": {
              "type": "string",
              "title": "Group Name",
              "cordra": {
                "preview": {
                  "showInPreview": true,
                  "isPrimary": true
                }
              }
            },
            "description": {
              "type": "string",
              "format": "textarea",
              "maxLength": 2048,
              "title": "Description",
              "cordra": {
                "preview": {
                  "showInPreview": true,
                  "excludeTitle": true
                }
              }
            },
            "users": {
              "type": "array",
              "format": "table",
              "title": "Users",
              "uniqueItems": true,
              "items": {
                "type": "string",
                "title": "User",
                "cordra": {
                  "type": {
                    "handleReference": {
                      "types": [
                        "User",
                        "Group"
                      ]
                    }
                  }
                }
              },
              "cordra": {
                "auth": "usersList"
              }
            }
          }
        }
      },
      "metadata": {
        "createdOn": 0,
        "createdBy": "admin",
        "modifiedOn": 0,
        "modifiedBy": "admin",
        "txnId": 3
      }
    },
    {
      "id": "test/d5dc0e9033d85d267e5e",
      "type": "Schema",
      "content": {
        "identifier": "test/d5dc0e9033d85d267e5e",
        "name": "User",
        "schema": {
          "type": "object",
          "required": [
            "id",
            "username",
            "password"
          ],
          "properties": {
            "id": {
              "type": "string",
              "cordra": {
                "type": {
                  "autoGeneratedField": "handle"
                }
              }
            },
            "username": {
              "type": "string",
              "title": "Username",
              "cordra": {
                "preview": {
                  "showInPreview": true,
                  "isPrimary": true
                },
                "auth": "username"
              }
            },
            "password": {
              "type": "string",
              "format": "password",
              "title": "Password",
              "cordra": {
                "auth": "password"
              }
            },
            "requirePasswordChange": {
              "type": "boolean",
              "title": "Require Password Change",
              "description": "If true a new password must be set on next authentication.",
              "cordra": {
                "auth": "requirePasswordChange"
              }
            }
          }
        },
        "javascript": "exports.beforeSchemaValidation = beforeSchemaValidation;\n\nfunction beforeSchemaValidation(obj, context) {\n    if (!context.useLegacyContentOnlyJavaScriptHooks) {\n        obj.content = beforeSchemaValidationLegacy(obj.content, context);\n        return obj;\n    } else {\n        return beforeSchemaValidationLegacy(obj, context);\n    }\n}\n\nfunction beforeSchemaValidationLegacy(obj, context) {\n    if (!obj.id) obj.id = \"\";\n    if (!obj.password) obj.password = \"\";\n    var password = obj.password;\n    if (context.isNew || password) {\n        if (password.length < 8) {\n            throw \"Password is too short. Min length 8 characters\";\n        }\n    }\n    return obj;\n}\n"
      },
      "metadata": {
        "createdOn": 0,
        "createdBy": "admin",
        "modifiedOn": 0,
        "modifiedBy": "admin",
        "txnId": 2
      }
    },
    {
      "id": "test/f8170cc84498cbe53472",
      "type": "Schema",
      "content": {
        "identifier": "test/f8170cc84498cbe53472",
        "name": "Document",
        "schema": {
          "type": "object",
          "title": "Document",
          "required": [
            "id"
          ],
          "properties": {
            "id": {
              "type": "string",
              "cordra": {
                "type": {
                  "autoGeneratedField": "handle"
                }
              }
            },
            "name": {
              "type": "string",
              "title": "Name",
              "cordra": {
                "preview": {
                  "showInPreview": true,
                  "isPrimary": true
                }
              }
            },
            "description": {
              "type": "string",
              "format": "textarea",
              "title": "Description",
              "cordra": {
                "preview": {
                  "showInPreview": true
                }
              }
            },
            "creationDate": {
              "type": "string",
              "title": "Creation Date",
              "cordra": {
                "type": {
                  "autoGeneratedField": "creationDate"
                }
              }
            },
            "modificationDate": {
              "type": "string",
              "title": "Modification Date",
              "cordra": {
                "preview": {
                  "showInPreview": true
                },
                "type": {
                  "autoGeneratedField": "modificationDate"
                }
              }
            },
            "createdBy": {
              "type": "string",
              "title": "Created By",
              "cordra": {
                "type": {
                  "autoGeneratedField": "createdBy"
                }
              }
            },
            "modifiedBy": {
              "type": "string",
              "title": "Modified By",
              "cordra": {
                "type": {
                  "autoGeneratedField": "modifiedBy"
                }
              }
            }
          }
        }
      },
      "metadata": {
        "createdOn": 0,
        "createdBy": "admin",
        "modifiedOn": 0,
        "modifiedBy": "admin",
        "txnId": 4
      }
    }
  ]
}